function recount(){var t=$(".test-question:visible").length;1==t?$(".numquestions").text(t+" question"):$(".numquestions").text(t+" questions")}function getCookie(t){t=("; "+document.cookie).split(`; ${t}=`);if(2===t.length)return t.pop().split(";").shift()}!function(e){e(document).ready(function(){e("#new-question").on("click",function(){var t=e(".test-question:hidden").first().clone(!0);t.find("input:text").val(""),t.find("input:checkbox").prop("checked",!1),t.css("display",""),e(this).closest(".add-question-button").before(t),recount()})})}(jQuery),function(t){t(document).on("DOMNodeInserted",function(){t(".delete").on("click",function(){t(this).closest(".test-question").remove(),recount()})})}(jQuery),function(e){e(document).ready(function(){e(".add").on("click",function(){var t=e(".answer__wrapper").first().clone(!0);t.find("input:text").val(""),t.find("input:checkbox").prop("checked",!1),e(this).closest("button.add").before(t)})})}(jQuery),$(document).ready(function(){var t=getCookie("userselected_test_id"),t=(console.log(t),"http://127.0.0.1:8002/getTest/"+t);console.log(t),$.get(t,function(t,e){console.log(t)})}),function(t){t.fn.autoGrowInput=function(s){return s=t.extend({maxWidth:1e3,minWidth:0,comfortZone:70},s),this.filter("input:text").each(function(){var e=s.minWidth||t(this).width(),n="",o=t(this),i=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:o.css("fontSize"),fontFamily:o.css("fontFamily"),fontWeight:o.css("fontWeight"),letterSpacing:o.css("letterSpacing"),whiteSpace:"nowrap"});i.insertAfter(o),t(this).bind("keyup keydown blur update",function(){var t;n!==(n=o.val())&&(t=n.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.html(t),((t=(t=i.width())+s.comfortZone>=e?t+s.comfortZone:e)<o.width()&&e<=t||e<t&&t<s.maxWidth)&&o.width(t))})}),this}}(jQuery);var getJSON=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="json",n.onload=function(){var t=n.status;200==t?(console.log("status 200: "+n.response),e(n.response)):console.log(t)},n.send(),n.response};function callbackFunction(t){t.preventDefault();t=new FormData(t.target);console.log(t)}function checkEmptyFields(t){var e=!0;$("input[type=text]:visible").each(function(){""==$(this).val()&&(e=!1)}),t(e)}function printJSON(){checkEmptyFields(t=>{if(console.log(t),t){data=JSON.stringify($("form").serializeArray()),console.log(data);let t=new XMLHttpRequest;t.open("POST","http://127.0.0.1:8002/addTestV/",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(result.innerHTML=this.responseText)},t.send(data),require("fs").writeFile("myjsonfile.json",json,"utf8",callback)}else alert("There is an empty field!")})}window.onload=function(){getJSON("http://127.0.0.1:8002/getAllTests/",e=>{for(let t=0;t<e.testy.length;t++)console.log(e.testy[t]),test=e.testy[t],$.insertNewTest(test.id,test.tytul,test.czasTrwania)})},$.insertNewTest=function(t,e,n){var o=$("#hidden_copy").first().clone(!0).removeAttr("id");o.css("display",""),o.attr("id",t),o.find(".title").text(e),o.find(".time").text(n+" min"),o.find("button.test").attr("id",t),o.find("button.use").attr("id",t),$(o).appendTo("#tests__wrapper")},$(document).ready(function(){$("button").on("click",function(){console.log($(this).attr("id")),"unselected"==$(this).attr("class")?$(this).attr("class","selected"):$(this).attr("class","unselected")})}),document.getElementById("save-form").addEventListener("click",printJSON),$(document).ready(function(){$("button.test").on("click",function(){id=$(this).attr("id"),console.log("selected_test_id="+id),document.cookie="userselected_test_id="+id,window.open("test-use.html","_self")})});